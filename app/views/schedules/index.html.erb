<%= render "shared/header" %>

<h3>スケジュール一覧</h3>

<% if flash[:notice] %>
    <p class="notice"><%= flash[:notice] %></p>
<% end %>

<table>
    <thead>
        <tr>
            <th>id</th>
            <th>タイトル</th>
            <th>開始日</th>
            <th>終了日</th>
            <th>終日</th>
            <th>スケジュール更新日時</th>
            <th>確認</th>
            <th>編集</th>
            <th>削除</th>
        </tr>
    </thead>

    <tbody>
        <% @schedules.each do |schedule| %>
        <tr>
            <td><%= schedule.id %></td>
            <td><%= schedule.title %></td>
            <td><%= schedule.start_date %></td>
            <td><%= schedule.end_date %></td>
            <td><%if schedule.all_day == true %>
                ○
                <% else schedule.all_day == false %>
                <% end %>
            </td>
            <td><%= schedule.updated_at.to_s(:datetime_jp) %></td>
            <td>
                <%= link_to "確認", schedule_path(schedule.id) %>
            </td>
            <td>
                <%= link_to "編集", [:edit, schedule] %>
            </td>
            <td>
                <%= link_to "削除", schedule, data: {turbo_method: :delete, turbo_confirm: "本当に削除しますか？" }%>
            </td>
        </tr>
        <% end %>
    </tbody>
</table>

<p><%= link_to "スケジュール新規登録", :new_schedule %></p>

<%= render "shared/footer" %>